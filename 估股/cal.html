<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title></title>
            
        <script type="text/javascript">
            function qqq(arg) {
                return arg;
            }
        </script>
            
        <script type="text/javascript">
                       
			var values;
            var strequ;
            var computerf;
            var countId = "";//当前默认曲线股价Id
			var countV = "";//调整曲线后的值
			var jsonobjs;
            
       
            function getChartDataStr(driverid)
            {
            	var moldelAy = jsonData.modelData.driverData[driverid].chartData["0"].array;
            	contact.test("新估价: "+values["1369.13"],null);
            }
            
            
            
            function initData(jsondata)
            {
            	this.jsonobjs = eval('(' + jsondata + ')');
            	this.values=jsonobjs.modelData.values;
            	this.strequ = jsonobjs.modelData.computeldentifiers;
            	this.computerf=new Function(strequ);
            	initGGid();
            	
            	chartdata=jsonobjs.modelData.driverData["1398"].chartData["0"].array;
            	//[{"h":false,"id":"1398.21","v":0.03,"y":"21"},{"h":false,"id":"1398.22","v":0.03,"y":"22"}]
            	rtnstr="[";
            	for(i=0;i<chartdata.length;i++)
            	{
            		rtnstr+="{\"h\":"+chartdata[i].h+",";
            		rtnstr+="\"id\":\""+chartdata[i].id+"\",";
            		rtnstr+="\"v\":"+chartdata[i].v+",";
            		rtnstr+="\"y\":\""+chartdata[i].y+"\"},";
            	}
            	rtnstr+="]";
            	return rtnstr;
            }
            
            
            
            
            
            function chartCalu(jsondata) {
            
            var sValue = eval('(' + jsondata + ')');
            var strtmp="";
			for ( var i = 0; i < sValue.length; i++) {
				values[sValue[i].id] = sValue[i].value;
				strtmp+=sValue[i].value;
				strtmp+=sValue[i].id;
			}

		}
            
            function testCalc(jsondata)
            {
            	contact.test("income data length: "+jsondata.length,null);
            	var jsonobjs = eval('(' + jsondata + ')');
            	this.values=jsonobjs.modelData.values;
            	this.strequ = jsonobjs.modelData.computeldentifiers;
            	this.computerf=new Function(strequ);
            	values["1398.13"]=0.3;
            	
            	contact.test("原估价: "+values["1369.13"],null);
            	computerf();
            	tmpdata=jsonobjs.info;
            	var tmpstr;
            	for(i=0;i<tmpdata.length;i++)
            	{tmpstr+="\r\n"+tmpdata[i];}
             }        
             
			function initGGid() 
			{
					var ayal = jsonobjs.info.AyalyseItemId;
					var moldelAy = jsonobjs.modelData.driverData[ayal].chartData["0"].array;
					for (var hi = 0; hi < moldelAy.length; hi ++) 
					{
						var h = moldelAy[hi].h;
						if(h == false) 
						{
							//当前默认曲线股价值
							countV = moldelAy[hi].v;
							//当前默认曲线id
							countId = moldelAy[hi].id;
							break;
						}
					}
				}   
        </script>
    </head>
    <body onload="javascript:contact.showcontacts()">
    </body>
</html>